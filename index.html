
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2015-02-17
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>data-file-reader</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />
 
		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/cosmo/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="https://krotscheck.github.io/data-file-reader/css/bootswatch.css" rel="stylesheet" />
		<link href="https://krotscheck.github.io/data-file-reader/css/reflow-skin.css" rel="stylesheet" />

		<link href="http://yandex.st/highlightjs/7.5/styles/github.min.css" rel="stylesheet" />

		<link href="https://krotscheck.github.io/data-file-reader/css/lightbox.css" rel="stylesheet" />

		<link href="https://krotscheck.github.io/data-file-reader/css/site.css" rel="stylesheet" />
		<link href="https://krotscheck.github.io/data-file-reader/css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->


		
<link rel="author" href="https://plus.google.com/+MichaelKrotscheck"/>
		<!-- Google Analytics -->
		<script type="text/javascript">

			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-52636237-5']);
			_gaq.push(['_trackPageview']);

			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();

		</script>
		</head>

	<body class="page-index project-data-file-reader" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="https://krotscheck.github.io/data-file-reader">data-file-reader</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li ><a href="http://github.com/krotscheck/data-file-reader/" title="GitHub project" class="externalLink">GitHub project</a></li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Formats <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="data-file-reader-bson.html" title="BSON">BSON</a></li>
									<li ><a href="data-file-reader-json.html" title="JSON">JSON</a></li>
									<li ><a href="data-file-reader-csv.html" title="CSV">CSV</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Filters <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="data-file-filter-column.html" title="Column">Column</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="contribute.html" title="Contribute">Contribute</a></li>
									<li ><a href="adapter-tutorial.html" title="Tutorial">Tutorial</a></li>
									<li ><a href="../data-file-reader/issues/" title="Issues">Issues</a></li>
									<li ><a href="http://github.com/krotscheck/data-file-reader/" title="Fork on GitHub" class="externalLink">Fork on GitHub</a></li>
									<li ><a href="license.html" title="License">License</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
				<h1>data-file-reader</h1>
<p><span class="lead">A library which reads and writes table-like streams of rows from common file formats.</span></p>
<p>The goal of this project is to make the reading and writing of table style file formats simple. If you have specific file format needs, you may review currently supported file formats using the features dropdown in the top right, or or write your own.</p>
<p>The base file encoder and decoder both use the ServiceLocator to detect available converters. Simply register any new mime type adapters in the corresponding META-INF/services file, and they will be automatically applied based on the mimetype you select.</p>
<p>The below dependency includes csv, bson, and json support. You may also include the individual file converters individually.</p>
<div class="source"> 
 <div class="source"> 
  <pre>&lt;dependency&gt;
    &lt;groupId&gt;net.krotscheck.dfr&lt;/groupId&gt;
    &lt;artifactId&gt;data-file-reader-all&lt;/artifactId&gt;
    &lt;version&gt;1.0.8&lt;/version&gt;
&lt;/dependency&gt;
</pre> 
 </div> 
</div>
				<hr />
				<div class="section"> 
 <h2 id="Reading_a_File">Reading a File</h2> 
 <p>To read a file, open an InputStream from your location, construct a decoder, and treat it like an iterator.</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>InputStream inputStream = ResourceUtil.getResourceAsStream(&quot;my_file&quot;);
String myMimeType = &quot;text/mymimetype&quot;;
FileStreamDecoder decoder = new FileStreamDecoder(inputStream, myMimeType);
decoder.setInputStream(inputStream);

for(Map&lt;String, Object&gt; row : decoder) {
    // Do something
}
decoder.close();
</pre> 
  </div> 
 </div> 
</div>
<div class="section"> 
 <h2 id="Writing_a_File">Writing a File</h2> 
 <p>You may write arbitrary data rows to a file format of your choosing, simply by specifying an outputStream and a mimetype.</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>OutputStream outputStream = new FileOutputStream(&quot;my_file_path&quot;);
String myMimeType = &quot;text/mymimetype&quot;;
FileStreamEncoder encoder = new FileStreamEncoder(outputStream, myMimeType);

Map&lt;String, Object&gt; myRow = new LinkedHashMap&lt;String, Object&gt;();
encoder.write(myRow);

encoder.close();
</pre> 
  </div> 
 </div> 
</div>
<div class="section"> 
 <h2 id="Converting_a_File">Converting a File</h2> 
 <p>This library also provides a convenience file format converter. You may either call <tt>run()</tt> directly, or you may pass it to a thread as shown below.</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>    IDataDecoder decoder = new MyDataDecoder();
    IDataEncoder encoder = new MyDataEncoder();

    FileStreamConverter fsc = new FileStreamConverter(decoder, encoder);

    Thread converterThread = new Thread(fsc);
    converterThread.start();
</pre> 
  </div> 
 </div> 
</div>
<div class="section"> 
 <h2 id="Filtering_a_File">Filtering a File</h2> 
 <p>If you would like to apply filters to your data as itâ€™s in flight, you may apply filters to either your decoder, encoder, or converter. These should implement the IDataFilter interface, and, as a best practice, should not perform a destructive change.</p> 
 <div class="source"> 
  <div class="source"> 
   <pre>    IDataDecoder decoder = new MyDataDecoder();
    IDataEncoder encoder = new MyDataEncoder();
    IDataFilter filter = new MyDataFilter();

    FileStreamConverter fsc = new FileStreamConverter(decoder, encoder);

    // You may apply your filter to any component of your filtering stream.
    decoder.addFilter(filter);
    // ... or ...
    encoder.addFilter(filter);
    // ... or ...
    fsc.addFilter(filter);

    Thread converterThread = new Thread(fsc);
    converterThread.start();
</pre> 
  </div> 
 </div>  
</div>
				<hr />
				
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Main</li>
						<li class="active">
							<a href="#" title="Home">Home</a>
						</li>
						<li >
							<a href="http://github.com/krotscheck/data-file-reader/" title="GitHub Project" class="externalLink">GitHub Project</a>
						</li>
						<li >
							<a href="release-notes.html" title="Release Notes">Release Notes</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Contribute</li>
						<li >
							<a href="contribute.html" title="Contribute">Contribute</a>
						</li>
						<li >
							<a href="adapter-tutorial.html" title="Tutorial">Tutorial</a>
						</li>
						<li >
							<a href="../data-file-reader/issues/" title="Issues">Issues</a>
						</li>
						<li >
							<a href="http://github.com/krotscheck/data-file-reader/" title="Fork on GitHub" class="externalLink">Fork on GitHub</a>
						</li>
						<li >
							<a href="license.html" title="License">License</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Formats</li>
						<li >
							<a href="data-file-reader-bson.html" title="BSON">BSON</a>
						</li>
						<li >
							<a href="data-file-reader-json.html" title="JSON">JSON</a>
						</li>
						<li >
							<a href="data-file-reader-csv.html" title="CSV">CSV</a>
						</li>
						<li class="nav-header">Filters</li>
						<li >
							<a href="data-file-filter-column.html" title="Column">Column</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Project Documentation</li>
						<li >
							<a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-right"></i></a>
						</li>
						<li >
							<a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2015 <a href="http://www.krotscheck.net">krotscheck.net</a>. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 1.0.8. </span></p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script src="https://krotscheck.github.io/data-file-reader/js/lightbox.min.js"></script>
	<script src="https://krotscheck.github.io/data-file-reader/js/reflow-scroll.js"></script>
	<script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

	<script src="https://krotscheck.github.io/data-file-reader/js/reflow-skin.js"></script>

	</body>
</html>
